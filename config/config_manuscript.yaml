# Timestamp: "2025-11-11 07:37:36 (ywatanabe)"
# File: ./config/config_manuscript.yaml

verbosity:
  pdflatex: true
  bibtex: true

citation:
  # Citation style configuration
  # For natbib-based styles (simple, works out of the box):
  #   - unsrtnat         : Numbered [1], order of appearance (Vancouver-like)
  #   - plainnat         : Numbered [1], alphabetical by author
  #   - abbrvnat         : Numbered, abbreviated names
  #   - apalike          : Author-year, APA-like style
  #   - IEEEtran         : IEEE Transactions style
  #   - naturemag        : Nature magazine style
  #   - elsarticle-num   : Elsevier numbered, alphabetical
  #   - elsarticle-harv  : Elsevier Harvard (author-year)
  #
  # For biblatex-based styles (requires switching from natbib to biblatex):
  #   See 00_shared/latex_styles/bibliography.tex for instructions on:
  #   - apa, chicago-authordate, mla, mhra, ieee, nature, etc.
  style: "unsrtnat"  # Default: numbered citations, order of appearance

compilation:
  # Compilation engine selection
  # Options: auto, tectonic, latexmk, 3pass
  #   - auto      : Auto-detect best available engine (recommended)
  #   - tectonic  : Fast mode (1-3s incremental, 10Ã— faster)
  #   - latexmk   : Standard mode (3-6s incremental, industry standard)
  #   - 3pass     : Guaranteed mode (12-18s, maximum compatibility)
  engine: "auto"

  # Auto-detection fallback order (used when engine: auto)
  auto_order: "tectonic latexmk 3pass"

  # Draft mode (single pass, skip bibliography)
  draft_mode: false

  # Per-engine settings
  engines:
    tectonic:
      # Use incremental compilation cache
      incremental: true
      # Cache directory (relative to project root)
      cache_dir: "./.tectonic-cache"
      # Bundle directory for offline packages
      bundle_dir: "./.tectonic-bundle"
      # Verbosity
      verbose: false

    latexmk:
      # Use latexmk's smart recompilation
      incremental: true
      # Maximum passes before giving up
      max_passes: 10
      # Fix bibliography path resolution (recommended: true)
      set_bibinputs: true
      # Verbosity
      verbose: false

    3pass:
      # Always do full 3 passes (no incremental)
      incremental: false
      # Verbose output for each pass
      verbose_passes: false

paths:
  doc_root_dir: "./01_manuscript"
  doc_log_dir: "./01_manuscript/logs"
  global_log_file: "./01_manuscript/logs/global.log"
  base_tex: "./01_manuscript/base.tex"
  compiled_tex: "./01_manuscript/manuscript.tex"
  compiled_pdf: "./01_manuscript/manuscript.pdf"
  diff_tex: "./01_manuscript/manuscript_diff.tex"
  diff_pdf: "./01_manuscript/manuscript_diff.pdf"
  archive_dir: "./01_manuscript/archive"
  texlive_apptainer_sif: "./.cache/containers/texlive_container.sif"
  tectonic_apptainer_sif: "./.cache/containers/tectonic_container.sif"
  mermaid_apptainer_sif: "./.cache/containers/mermaid_container.sif"
  imagemagick_apptainer_sif: "./.cache/containers/imagemagick_container.sif"
  
figures:
  dir: "./01_manuscript/contents/figures"
  caption_media_dir: "./01_manuscript/contents/figures/caption_and_media"
  jpg_dir: "./01_manuscript/contents/figures/caption_and_media/jpg_for_compilation"
  compiled_dir: "./01_manuscript/contents/figures/compiled"
  compiled_file: "./01_manuscript/contents/figures/compiled/FINAL.tex"
  templates_dir: "./00_shared/templates/figures"
  template_pptx: "./00_shared/templates/figures/.00_TEMPLATE.pptx"  
  template_tif: "./00_shared/templates/figures/.00_TEMPLATE.tif"  
  template_jpg: "./00_shared/templates/figures/.00_TEMPLATE.jpg"
  template_jnb: "./00_shared/templates/figures/.00_TEMPLATE.JNB"  
  
tables:
  dir: "./01_manuscript/contents/tables"
  caption_media_dir: "./01_manuscript/contents/tables/caption_and_media"
  compiled_dir: "./01_manuscript/contents/tables/compiled"
  compiled_file: "./01_manuscript/contents/tables/compiled/FINAL.tex"

misc:
  wordcount_dir: "./01_manuscript/contents/wordcounts"
  tree_txt: "./01_manuscript/docs/tree.txt"

hot-recompile:
  enabled: true
  mode: "restart"  # "restart" or "wait" - how to handle ongoing compilations
  stable_link: "./01_manuscript/manuscript-latest.pdf"  # Symlink (use rsync -L to follow)
  watching_files:
    # Content files
    - "./01_manuscript/contents/*.tex"
    - "./01_manuscript/contents/**/*.tex"
    - "./01_manuscript/base.tex"
    # Tables
    - "./01_manuscript/contents/tables/caption_and_media/*.csv"
    - "./01_manuscript/contents/tables/caption_and_media/*.tex"
    # Figures
    - "./01_manuscript/contents/figures/caption_and_media/*.tex"
    - "./01_manuscript/contents/figures/caption_and_media/*.jpg"
    - "./01_manuscript/contents/figures/caption_and_media/*.png"
    - "./01_manuscript/contents/figures/caption_and_media/*.tif"
    - "./01_manuscript/contents/figures/caption_and_media/*.pptx"
    - "./01_manuscript/contents/figures/caption_and_media/*.mmd"
    # Bibliography
    - "./01_manuscript/contents/**/*.bib"
    # Config
    - "./config/*.yaml"
    # Scripts (optional)
    - "./scripts/shell/modules/*.sh"
    - "./scripts/python/*.py"

# EOF